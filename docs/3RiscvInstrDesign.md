##  RISCV32I体系结构

> 本次编译器即将用到的RISC-V32gc的体系结构(整数)。   
>

### 1. 汇编Directives

> 汇编指示符为汇编程序开头的部分，它们是**汇编器**的命令，具有告诉汇编器代码和数据的位置，指定程序中使用的特定代码和数据常量等作用。

| 汇编指示符                                    | 说明                                                         |
| --------------------------------------------- | ------------------------------------------------------------ |
| `.file "demo"`                                | **汇编文件名**                                               |
| `.option {rvc, norvc, pic, nopic, push, pop}` | **RISCV选项{压缩指令，不压缩指令，与位置无关代码段，与位置有关代码段，将option设置存入栈，从栈中弹出option设置}** |
| `.section {.rodata, .text, .data, .bss}`      | **声明的section{只读字段，代码段(机器语言代码)，数据段(全局变量)，bss段(初始化为0的全局变量)}** |
| `.global main`                                | **声明全局符号"main"**                                       |
| `.align n`                                    | **按照2n字节对齐**                                           |
| `.string "str"`                               | **在内存中存入字符串str，空字符结尾**                        |
| ` .word`                                      | **在内存中连续存储n个32位的量**                              |
| `.comm  __symbole`                            | **将符号存储到.bss段中**                                     |
| `.type`                                       | **accepted for source compatibility**                        |
| `.size`                                       | **accepted for source compatibility**                        |
| `.ident`                                      | **accepted for source compatibility**                        |

### 2. 汇编ABI

> 所谓二进制接口指的就是**寄存器**，RISCV有32个整数寄存器，可以尽可能保证操作数不会“溢出“到内存中。  
>
> 寄存器分为**保存寄存器**和**临时寄存器**，区别在于函数调用时是否需要保存其值(可以看成是由调用者还是被调用者保存的寄存器)。

| 寄存器名称 | 描述                    | 在调用中是否保留 |
| ---------- | ----------------------- | ---------------- |
| `zero`     | **硬编码0**             | **—**            |
| `ra`       | **返回地址**            | **否**           |
| `sp`       | **栈指针**              | **是**           |
| `gp`       | **全局指针**            | **—**            |
| `tp`       | **线程指针**            | **—**            |
| `t0`       | **临时/备用链接寄存器** | **否**           |
| `t1-2`     | **临时寄存器**          | **否**           |
| `s0/fp`    | **保存寄存器/栈指针**   | **是**           |
| `s1`       | **保存寄存器**          | **是**           |
| `a0-1`     | **函数参数/返回值**     | **否**           |
| `a2-7`     | **函数参数**            | **否**           |
| `s2-11`    | **保存寄存器**          | **是**           |
| `t3-6`     | **临时寄存器**          | **否**           |

### 3. 汇编Instructions





### 4. 汇编格式







